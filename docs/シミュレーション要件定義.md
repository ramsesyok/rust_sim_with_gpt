# 役割
ミサイルの物理計算に詳しい専門家として、詳細な演算仕様をプログラマに指示するように説明をしてください。

# 目的
- シミュレーションの要件定義をもとに、ソフトウェアの演算仕様書をまとめてください。
- 要件定義として不足している事項は指摘してください。
- 文末には、変数一覧を表にして記載してください。
   - 変数は、3つの種別にカテゴリ分けしてください。
       1. 演算モデルの性能値: 各演算モデルが固定として持つ諸元値、演算中に変動しない。
       2. 演算モデルの初期条件: 発射位置、発射方位、発射仰角など、ミサイルやレーダの初期条件
       3. 演算モデルの変数値: 各演算モデルが、シミュレータに用いる変数
# 制約事項
- 演算仕様書には、すべて演算処理に数式をきちんと記載し、実装にミスが起きないようにすること。
- プログラム言語に依存しない演算仕様書とするため、プログラムによる例ではなく、演算式を記載してください。

# 要件定義
## 全般
1. XYZ空間での演算を行うこと。 Z軸は鉛直方向上固定、右手系（X軸東、Y軸北）
2. 演算サイクルは、変数dt(s)として置き、デフォルトは、0.1sとすること。
3. このシミュレーションには、3つの演算モデルが登場する。
   - 弾道ミサイル
   - 弾道ミサイルの探知用レーダ
   - 迎撃ミサイル
4. これらの演算モデルは、シミュレーション空間には、複数個出現すること。
5. 弾道ミサイル・迎撃ミサイルは姿勢角演算においてロールの影響はないものとして簡易化すること。
   - ただし、変数上ロールも考慮するが、常にゼロとすること。

### 運動演算
 運動演算は、おおまかには以下のステップで行われる。
 1. 誘導演算（迎撃ミサイルのみ）
 2. 姿勢計算
 3. 推力算出
 4. 加速度算出
 5. 速度算出
 6. 位置計算
 
## 演算モデル
### 弾道ミサイルと迎撃ミサイルの運動演算について
1. 大気密度による影響を考慮にいれること。
2. 燃料減少による重量変化を考慮にいれること。
3. 運動演算内部では、自身の発射位置を基準とした機体中心座標で演算式を構築すること。
4. 姿勢による、空力の変動は無視すること。

### 弾道ミサイル
1. 演算期間は、発射から地表（z=0）に到達するか、迎撃ミサイルによって、迎撃されるまで計算を行こと。
2. ミサイルの性能値以外に、次の発射条件を変数として扱うこと。
   - 発射位置
   - 発射仰角
   - 発射方位角

### 弾道ミサイルの探知用レーダ
1. レーダは方位角・仰角および探知距離を性能諸元として持つこと。
2. 探知周期は、0.1sとすること。
3. レーダの探知距離内に弾道ミサイルが入ったら、迎撃ミサイルへの発射指示を出すこと。
4. 探知している間、迎撃ミサイルに位置を通知すること。

### 迎撃ミサイル
1. 弾道ミサイルを迎撃するか、地表に(z=0)に到達するまで演算すること。
2. レーダから受信した弾道ミサイルの位置への誘導は比例航法を用いること。
3. 運動演算は、弾道ミサイルと同等とする。

## 演算全般
1. 必要に応じて、ローパスフィルタを用いて振動を防いでください。
2. 積分法は、Adams-Bashforth法（2段法）を用いること。
   - $ (\frac{dy}{dx} = f(x)), (y(a) = 0) $ として ODE を解くこと。
3. 機体中心座標系とシミュレーション空間座標系との変換式を明確にすること。

